{
  "abbrlink": "c9c6cb4f",
  "category": "编程",
  "content": "<p>记录一下最近的练习程序与做法，加深记忆，也当个教程吧，毕竟赠人玫瑰手留余香(bushi</p>\n<!--more-->\n<p>如果你不知道这些表达式分别指什么东西，可以百度一下，这里不再赘述。</p>\n<h2 id=\"de849fde\">后缀表达式</h2>\n<p>这个应该是最常见的了，下面讲一下实现。</p>\n<p>首先，还是定义函数<span class=\"heimu\" title=\"你知道的太多了\">废话</span>：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> main</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() {</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#6A737D\">    //...</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"></span></code></pre>\n        </div>\n<p>然后，进行文件读取，可以用<code>freopen()</code>，不过我这里用的是<code>fopen()</code>：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">FILE</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> stream </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> fopen</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"input.txt\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"r\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">stack</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;double></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums;</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> tstr[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">100</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">];</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\"> //temp</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    fscanf</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">%s</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, tstr);</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">feof</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream)) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    string input </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> tstr;</span></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#6A737D\">    //...</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"></span></code></pre>\n        </div>\n<p>解释一下上面的程序：</p>\n<ul>\n<li><code>stack&lt;double&gt; nums</code> 这个栈后面会用到，这里先不用管</li>\n<li><code>fscanf()</code>和<code>scanf()</code>用法一样，唯一的区别是<code>fscanf()</code>用于读取文件流中的信息而非输入流</li>\n<li><code>feof()</code>中的参数为文件流，用于判断是否读到结尾，读到则返回真</li>\n</ul>\n<p>很显然，这段程序用于分别读入每一段字符，那么接下来便是判断输入了。</p>\n<p>代码如下：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#6A737D\">    //...</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">isdigit</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">])) {</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">atof</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">c_cstr</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()));</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {</span></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#6A737D\">        //...</span></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"></span></code></pre>\n        </div>\n<p>如果输入为整数，则进入数字栈，否则开始计算。</p>\n<p>这里使用了<code>isdigit()</code>函数，输入为<code>char</code>类型，用于判断参数是否在<code>'0'</code>与<code>'9'</code>之间。</p>\n<p>计算过程很简单，弹出两个数字栈中的数，根据运算符计算即可：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#6A737D\">//...</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> temp;</span></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    switch</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]) {</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '+'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"12\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"13\" class=\"line\"></span>\n<span class=\"line\" data-line=\"14\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '-'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"15\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"16\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"17\" class=\"line\"></span>\n<span class=\"line\" data-line=\"18\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '*'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"19\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"20\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"21\" class=\"line\"></span>\n<span class=\"line\" data-line=\"22\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '/'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"23\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">/</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"24\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"25\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"26\" class=\"line\"></span>\n<span class=\"line\" data-line=\"27\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp);</span></span>\n<span class=\"line\" data-line=\"28\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"29\" class=\"line\"></span></code></pre>\n        </div>\n<p>尤其要注意减法与除法的操作数与被操作数顺序，毕竟它们可没有交换律。</p>\n<p>此时已经计算完成，结果作为栈中唯一的元素处在栈顶，直接输出即可：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">fclose</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream);</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\"> //关文件是一个好习惯</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">cout</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">endl;</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">return</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"></span></code></pre>\n        </div>\n<p>大概就是这样。</p>\n<p>完整代码还是放一下：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">#include</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">&#x3C;bits/stdc++.h></span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">using</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> namespace</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> std</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">inline</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> bool</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> is_num</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> str</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(str[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">>=</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '0'</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> &#x26;&#x26;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> str[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;=</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '9'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">return</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> return</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> false</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> main</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() {</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    FILE</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> stream </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> fopen</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"input.txt\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"r\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    stack</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;double></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums;</span></span>\n<span class=\"line\" data-line=\"12\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"13\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> tstr[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">100</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">];</span></span>\n<span class=\"line\" data-line=\"14\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">        fscanf</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">%s</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, tstr);</span></span>\n<span class=\"line\" data-line=\"15\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">feof</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream)) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"16\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        string input </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> tstr;</span></span>\n<span class=\"line\" data-line=\"17\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">is_num</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input)) {</span></span>\n<span class=\"line\" data-line=\"18\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">atof</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">c_str</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()));</span></span>\n<span class=\"line\" data-line=\"19\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"20\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {</span></span>\n<span class=\"line\" data-line=\"21\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"22\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"23\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"24\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"25\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> temp;</span></span>\n<span class=\"line\" data-line=\"26\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            switch</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]) {</span></span>\n<span class=\"line\" data-line=\"27\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '+'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"28\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"29\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                    break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"30\" class=\"line\"></span>\n<span class=\"line\" data-line=\"31\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '-'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"32\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"33\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                    break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"34\" class=\"line\"></span>\n<span class=\"line\" data-line=\"35\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '*'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"36\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"37\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                    break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"38\" class=\"line\"></span>\n<span class=\"line\" data-line=\"39\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '/'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"40\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">/</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"41\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                    break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"42\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            }</span></span>\n<span class=\"line\" data-line=\"43\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp);</span></span>\n<span class=\"line\" data-line=\"44\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"45\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"46\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    fclose</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream);</span></span>\n<span class=\"line\" data-line=\"47\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    cout</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">endl;</span></span>\n<span class=\"line\" data-line=\"48\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    </span></span>\n<span class=\"line\" data-line=\"49\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"50\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"51\" class=\"line\"></span></code></pre>\n        </div>\n<p>输入样例：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">TXT</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span>1 2 + 3 - </span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span></span></span></code></pre>\n        </div>\n<p>输出样例：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">TXT</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span>0</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span></span></span></code></pre>\n        </div>\n<h2 id=\"4358a3d6\">前缀表达式</h2>\n<p>细心一点就能发现，它与后缀表达式几乎一样，只是顺序不同。</p>\n<p>没错，这正是因为前、后、中缀表达式分别为表达式树的先序、后续与中序遍历。</p>\n<p>利用这个性质，将后缀表达式的顺序稍稍更改即可得到前缀表达式求值的程序：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">#include</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">&#x3C;bits/stdc++.h></span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">using</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> namespace</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> std</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">inline</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> bool</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> is_num</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> str</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(str[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">>=</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '0'</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> &#x26;&#x26;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> str[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;=</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '9'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">return</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> return</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> false</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> main</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(){</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    FILE</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> stream </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> fopen</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"input.txt\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"r\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    </span></span>\n<span class=\"line\" data-line=\"12\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    stack</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;double></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums;</span></span>\n<span class=\"line\" data-line=\"13\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    vector</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">string</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> input;</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\"> //存储读取数据</span></span>\n<span class=\"line\" data-line=\"14\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"15\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> tstr[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">100</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">];</span></span>\n<span class=\"line\" data-line=\"16\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">        fscanf</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">%s</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, tstr);</span></span>\n<span class=\"line\" data-line=\"17\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">feof</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream)) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"18\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        input.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push_back</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(tstr));</span></span>\n<span class=\"line\" data-line=\"19\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"20\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    </span></span>\n<span class=\"line\" data-line=\"21\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    for</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> i </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> input.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">size</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;i </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">>=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;i</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">--</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\"> //倒序读取</span></span>\n<span class=\"line\" data-line=\"22\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">is_num</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[i])) {</span></span>\n<span class=\"line\" data-line=\"23\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">atof</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[i].</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">c_str</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()));</span></span>\n<span class=\"line\" data-line=\"24\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"25\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {</span></span>\n<span class=\"line\" data-line=\"26\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"27\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"28\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"29\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"30\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            </span></span>\n<span class=\"line\" data-line=\"31\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> temp;</span></span>\n<span class=\"line\" data-line=\"32\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            switch</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[i][</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]) {</span></span>\n<span class=\"line\" data-line=\"33\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '+'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"34\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"35\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                    break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"36\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                </span></span>\n<span class=\"line\" data-line=\"37\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '-'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"38\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"39\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                    break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"40\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                </span></span>\n<span class=\"line\" data-line=\"41\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '*'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"42\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"43\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                    break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"44\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                </span></span>\n<span class=\"line\" data-line=\"45\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '/'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"46\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">/</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"47\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                    break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"48\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            }</span></span>\n<span class=\"line\" data-line=\"49\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            </span></span>\n<span class=\"line\" data-line=\"50\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp);</span></span>\n<span class=\"line\" data-line=\"51\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"52\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"53\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    </span></span>\n<span class=\"line\" data-line=\"54\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    fclose</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream);</span></span>\n<span class=\"line\" data-line=\"55\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    cout</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">endl;</span></span>\n<span class=\"line\" data-line=\"56\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    </span></span>\n<span class=\"line\" data-line=\"57\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"58\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"59\" class=\"line\"></span></code></pre>\n        </div>\n<p>改成倒序读取即可。</p>\n<p>输入样例：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">TXT</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span>- + 1 2 3 </span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span></span></span></code></pre>\n        </div>\n<p>输出样例：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">TXT</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span>0</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span></span></span></code></pre>\n        </div>\n<h2 id=\"6767a090\">中缀表达式</h2>\n<p>我们最常用的表达式，处理起来却是最复杂的，因为现在需要考虑优先级与括号了。</p>\n<p>这里有几种方法：</p>\n<h3 id=\"eea64ce6\">递归</h3>\n<p>首先，定义函数用于取多项式的因子：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> factor</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() {</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> expression</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">isdigit</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(c)) {</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 10</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> *</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '0'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"12\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"13\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"14\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"15\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"16\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res;</span></span>\n<span class=\"line\" data-line=\"17\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"18\" class=\"line\"></span></code></pre>\n        </div>\n<p>先定义结果为0，然后判断输入。若为括号，则将其内容视为新表达式，交由马上要定义的<code>expression()</code>函数计算。否则，按位取出输入中的数即可。</p>\n<p>顺带一提，这些代码中的<code>cin.get()</code>与<code>cin.peek()</code>尤其重要，切勿移动位置或轻易替换。至于原因，自己模拟想一下吧。</p>\n<p>然后，计算单项式的值，代码如下：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> term</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() {</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> factor</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '*'</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> ||</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '/'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> factor</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '*'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v;</span></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">/=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v;</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"12\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"13\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res;</span></span>\n<span class=\"line\" data-line=\"14\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"15\" class=\"line\"></span></code></pre>\n        </div>\n<p>先用<code>factor()</code>函数读入因子，然后循环判断该单项式是否读完。若未读完（即该因子与下一个因子间仍用乘号或除号连接）则取下一个因子并计算，否则返回该单项式的值即可。并且很显然，这样的写法就代表输入的表达式中不应当含有任何空格，也只支持整数运算（要浮点数自己改<span class=\"heimu\" title=\"你知道的太多了\">我不干了</span>）。</p>\n<p>最后是整个表达式，与计算单项式基本一样：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> expression</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() {</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> term</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '+'</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> ||</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '-'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> term</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '+'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v;</span></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v;</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"12\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"13\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res;</span></span>\n<span class=\"line\" data-line=\"14\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"15\" class=\"line\"></span></code></pre>\n        </div>\n<p>读入单项式再计算，直到该表达式计算完毕（即<code>mark</code>取到<code>)</code>或<code>EOF</code>）</p>\n<p>主函数其实已经一目了然了，重定向输入再调用<code>expression()</code>即可，就不写了。</p>\n<p>输入样例：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">TXT</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span>(28/7)/2+(8-9)</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span></span></span></code></pre>\n        </div>\n<p>输出样例：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">TXT</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span>1</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span></span></span></code></pre>\n        </div>\n<h3 id=\"750d22c9\">栈</h3>\n<p>这里又分为两种方案：</p>\n<h4 id=\"6ff71db2\">转为后/前缀表达式再计算</h4>\n<p>这里的重点是转换的过程，逻辑整体如下（中缀-&gt;后缀）：</p>\n<ul>\n<li>输入若为数字，直接放入输出表达式中。若为符号：<ul>\n<li>如果符号栈为空，则放入符号栈中</li>\n<li>如果符号栈栈顶元素优先级大于等于该符号，则出栈栈顶符号放入表达式，若此时栈顶符号优先级大于等于该符号，则重复以上流程直至小于，而后入栈该符号</li>\n<li>如果符号栈栈顶元素优先级小于该符号，该符号入栈</li>\n<li>如果该符号为左括号，直接入栈</li>\n<li>如果该符号为右括号，则依次出栈符号栈栈顶元素放入表达式中，直至左括号。最后抛弃左括号与右括号</li>\n</ul>\n</li>\n<li>若输入完毕，符号栈中仍有符号，则依次出栈放入表达式</li>\n</ul>\n<p>代码如下（转为后缀表达式）：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">map</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> markl;</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">markl[</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'+'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">markl[</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'-'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">markl[</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'*'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">markl[</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'/'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">FILE</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> stream </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> fopen</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"input.txt\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"r\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">stack</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;char></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> marks;</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">vector</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">string</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> expression;</span></span>\n<span class=\"line\" data-line=\"12\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"13\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> tstr[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">100</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">];</span></span>\n<span class=\"line\" data-line=\"14\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    fscanf</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">%s</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, tstr);</span></span>\n<span class=\"line\" data-line=\"15\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">feof</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream)) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"16\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    string input </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> tstr;</span></span>\n<span class=\"line\" data-line=\"17\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    </span></span>\n<span class=\"line\" data-line=\"18\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">isdigit</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">])) {</span></span>\n<span class=\"line\" data-line=\"19\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        expression.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push_back</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input);</span></span>\n<span class=\"line\" data-line=\"20\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"21\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"22\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"23\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"24\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> ')'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"25\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"26\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"27\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"28\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"29\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            }</span></span>\n<span class=\"line\" data-line=\"30\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> t[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">2</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(), </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">\\0</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">};</span></span>\n<span class=\"line\" data-line=\"31\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            expression.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push_back</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(t));</span></span>\n<span class=\"line\" data-line=\"32\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"33\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"34\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"35\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {</span></span>\n<span class=\"line\" data-line=\"36\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">empty</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">||</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"37\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]);</span></span>\n<span class=\"line\" data-line=\"38\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"39\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(markl[input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> markl[marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()]) {</span></span>\n<span class=\"line\" data-line=\"40\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">!</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">empty</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x26;&#x26;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> markl[temp[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> markl[marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()]) {</span></span>\n<span class=\"line\" data-line=\"41\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> t[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">2</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(), </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">\\0</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">};</span></span>\n<span class=\"line\" data-line=\"42\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                expression.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push_back</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(t));</span></span>\n<span class=\"line\" data-line=\"43\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"44\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            }</span></span>\n<span class=\"line\" data-line=\"45\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]);</span></span>\n<span class=\"line\" data-line=\"46\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"47\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {</span></span>\n<span class=\"line\" data-line=\"48\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(input[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]);</span></span>\n<span class=\"line\" data-line=\"49\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"50\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"51\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"52\" class=\"line\"></span>\n<span class=\"line\" data-line=\"53\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">!</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">empty</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()) {</span></span>\n<span class=\"line\" data-line=\"54\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> t[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">2</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(), </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">\\0</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">};</span></span>\n<span class=\"line\" data-line=\"55\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    expression.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push_back</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(t));</span></span>\n<span class=\"line\" data-line=\"56\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"57\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"58\" class=\"line\"></span></code></pre>\n        </div>\n<p>和上面的逻辑完全一样，唯一要注意的是这里使用了<code>map</code>，可以理解为字典。</p>\n<p>然后只需要计算就行，代码就不放了。</p>\n<p>前缀表达式的逻辑与代码可以自己想想。</p>\n<p>输入输出样例同下面。</p>\n<h4 id=\"0737e265\">直接计算</h4>\n<p>逻辑和转换本身是一样的，只不过没有了表达式向量，而是直接计算后放入数字栈。</p>\n<p>即将所有的对于<code>expression</code>的操作改为计算即可：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">#include</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> &#x3C;bits/stdc++.h></span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">using</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> namespace</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> std</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> calc</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">char</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> mark</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> x</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> y</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    switch</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(mark) {</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '+'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        </span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '-'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"12\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"13\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"14\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        </span></span>\n<span class=\"line\" data-line=\"15\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '*'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"16\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"17\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"18\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        </span></span>\n<span class=\"line\" data-line=\"19\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        case</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '/'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">:</span></span>\n<span class=\"line\" data-line=\"20\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">/</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y;</span></span>\n<span class=\"line\" data-line=\"21\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"22\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"23\" class=\"line\"></span>\n<span class=\"line\" data-line=\"24\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> temp;</span></span>\n<span class=\"line\" data-line=\"25\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"26\" class=\"line\"></span>\n<span class=\"line\" data-line=\"27\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> main</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() {</span></span>\n<span class=\"line\" data-line=\"28\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    FILE</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> stream </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> fopen</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"input.txt\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"r\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"29\" class=\"line\"></span>\n<span class=\"line\" data-line=\"30\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    map</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> markl;</span></span>\n<span class=\"line\" data-line=\"31\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    markl[</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'+'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"32\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    markl[</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'-'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"33\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    markl[</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'*'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"34\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    markl[</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'/'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"35\" class=\"line\"></span>\n<span class=\"line\" data-line=\"36\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    stack</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;char></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> marks;</span></span>\n<span class=\"line\" data-line=\"37\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    stack</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;double></span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums;</span></span>\n<span class=\"line\" data-line=\"38\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"39\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> tstr[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">100</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">];</span></span>\n<span class=\"line\" data-line=\"40\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">        fscanf</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">%s</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, tstr);</span></span>\n<span class=\"line\" data-line=\"41\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">feof</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream)) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"42\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        string temp </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> tstr;</span></span>\n<span class=\"line\" data-line=\"43\" class=\"line\"></span>\n<span class=\"line\" data-line=\"44\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">isdigit</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">])) {</span></span>\n<span class=\"line\" data-line=\"45\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">atof</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">c_str</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()));</span></span>\n<span class=\"line\" data-line=\"46\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"47\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"48\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">'('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"49\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"50\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> ')'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"51\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"52\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"53\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"54\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                    break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"55\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                }</span></span>\n<span class=\"line\" data-line=\"56\" class=\"line\"></span>\n<span class=\"line\" data-line=\"57\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"58\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"59\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"60\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"61\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">calc</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(), x, y));</span></span>\n<span class=\"line\" data-line=\"62\" class=\"line\"></span>\n<span class=\"line\" data-line=\"63\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"64\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            }</span></span>\n<span class=\"line\" data-line=\"65\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"66\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">empty</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">||</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"67\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]);</span></span>\n<span class=\"line\" data-line=\"68\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"69\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(markl[temp[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> markl[marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()]) {</span></span>\n<span class=\"line\" data-line=\"70\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">!</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">empty</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x26;&#x26;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> markl[temp[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]] </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> markl[marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()]) {</span></span>\n<span class=\"line\" data-line=\"71\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"72\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"73\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"74\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"75\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">calc</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(), x, y));</span></span>\n<span class=\"line\" data-line=\"76\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    </span></span>\n<span class=\"line\" data-line=\"77\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"78\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            }</span></span>\n<span class=\"line\" data-line=\"79\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]);</span></span>\n<span class=\"line\" data-line=\"80\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"81\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {</span></span>\n<span class=\"line\" data-line=\"82\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(temp[</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">]);</span></span>\n<span class=\"line\" data-line=\"83\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"84\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"85\" class=\"line\"></span>\n<span class=\"line\" data-line=\"86\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">!</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">empty</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()) {</span></span>\n<span class=\"line\" data-line=\"87\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> y </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"88\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"89\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> x </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"90\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"91\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">push</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">calc</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(), x, y));</span></span>\n<span class=\"line\" data-line=\"92\" class=\"line\"></span>\n<span class=\"line\" data-line=\"93\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        marks.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">pop</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"94\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"95\" class=\"line\"></span>\n<span class=\"line\" data-line=\"96\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    fclose</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(stream);</span></span>\n<span class=\"line\" data-line=\"97\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    </span></span>\n<span class=\"line\" data-line=\"98\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    cout</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">nums.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">top</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">()</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">endl;</span></span>\n<span class=\"line\" data-line=\"99\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"100\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"101\" class=\"line\"></span></code></pre>\n        </div>\n<p>输入样例：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">TXT</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span>( 28 / 7 ) / 2 + ( 8 - 9 ) </span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span></span></span></code></pre>\n        </div>\n<p>输出样例：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">TXT</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span>1</span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span></span></span></code></pre>\n        </div>\n<p>收工！</p>\n<h2 id=\"f23d890d\">题外话</h2>\n<p>这篇大概是我最长的纯原创技术类博文了。。。。。。</p>\n<p>好累QAQ</p>\n<p>下次再见啦！886！</p>\n<h3 id=\"558cebce\">2023.04.03更新</h3>\n<p>让ChatGPT改了一个支持浮点数的递归版本：</p>\n<div class=\"code-block-wrapper\">\n          <div class=\"code-block-header\">\n            <span class=\"code-lang\">CPP</span>\n            <div class=\"copy-card\" onclick=\"window.copyToClipboard(this)\">Copy</div>\n          </div>\n          <pre class=\"shiki shiki-themes github-light github-dark\" style=\"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8\" tabindex=\"0\"><code><span class=\"line\" data-line=\"1\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">#include</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> &#x3C;iostream></span></span>\n<span class=\"line\" data-line=\"2\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">#include</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> &#x3C;cstdlib></span></span>\n<span class=\"line\" data-line=\"3\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">#include</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> &#x3C;cstdio></span></span>\n<span class=\"line\" data-line=\"4\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">using</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> namespace</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> std</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"5\" class=\"line\"></span>\n<span class=\"line\" data-line=\"6\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">void</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> print_tab</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"7\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">void</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"8\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">void</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"9\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> expression</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"10\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> term</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"11\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> factor</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"12\" class=\"line\"></span>\n<span class=\"line\" data-line=\"13\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> main</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">() {</span></span>\n<span class=\"line\" data-line=\"14\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    freopen</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"input.txt\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"r\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, stdin);</span></span>\n<span class=\"line\" data-line=\"15\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    cout </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> expression</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> endl;</span></span>\n<span class=\"line\" data-line=\"16\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"17\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"18\" class=\"line\"></span>\n<span class=\"line\" data-line=\"19\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">void</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> print_tab</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> deep</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"20\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    for</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> i </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;i </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> deep;i</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">++</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"21\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        cout </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> \"</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">\\t</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"22\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"23\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"24\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"25\" class=\"line\"></span>\n<span class=\"line\" data-line=\"26\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">void</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> name</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> deep</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"27\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    print_tab</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(deep);</span></span>\n<span class=\"line\" data-line=\"28\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    cout </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> name </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> \" {\"</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> &#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> endl;</span></span>\n<span class=\"line\" data-line=\"29\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"30\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"31\" class=\"line\"></span>\n<span class=\"line\" data-line=\"32\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">void</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">string</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> name</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> deep</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> res</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"33\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    print_tab</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(deep);</span></span>\n<span class=\"line\" data-line=\"34\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    cout </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> \"} -> res =\"</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> &#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> endl;</span></span>\n<span class=\"line\" data-line=\"35\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"36\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"37\" class=\"line\"></span>\n<span class=\"line\" data-line=\"38\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> expression</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> deep</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"39\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"expression\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, deep);</span></span>\n<span class=\"line\" data-line=\"40\" class=\"line\"></span>\n<span class=\"line\" data-line=\"41\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> term</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(deep </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"42\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"43\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">             //get</span></span>\n<span class=\"line\" data-line=\"44\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '+'</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> ||</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '-'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"45\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">                      //skip</span></span>\n<span class=\"line\" data-line=\"46\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> term</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(deep </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"47\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '+'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v;</span></span>\n<span class=\"line\" data-line=\"48\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v;</span></span>\n<span class=\"line\" data-line=\"49\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"50\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"51\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"52\" class=\"line\"></span>\n<span class=\"line\" data-line=\"53\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"expression\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, deep, res);</span></span>\n<span class=\"line\" data-line=\"54\" class=\"line\"></span>\n<span class=\"line\" data-line=\"55\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res;</span></span>\n<span class=\"line\" data-line=\"56\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"57\" class=\"line\"></span>\n<span class=\"line\" data-line=\"58\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> term</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> deep</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"59\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"term\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, deep);</span></span>\n<span class=\"line\" data-line=\"60\" class=\"line\"></span>\n<span class=\"line\" data-line=\"61\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> factor</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(deep </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"62\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\">true</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"63\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">             //get</span></span>\n<span class=\"line\" data-line=\"64\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '*'</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> ||</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '/'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"65\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">                      //skip</span></span>\n<span class=\"line\" data-line=\"66\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> factor</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(deep </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"67\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(mark </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '*'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v;</span></span>\n<span class=\"line\" data-line=\"68\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">/=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> v;</span></span>\n<span class=\"line\" data-line=\"69\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"70\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        else</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"71\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"72\" class=\"line\"></span>\n<span class=\"line\" data-line=\"73\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"term\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, deep, res);</span></span>\n<span class=\"line\" data-line=\"74\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    </span></span>\n<span class=\"line\" data-line=\"75\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res;</span></span>\n<span class=\"line\" data-line=\"76\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"77\" class=\"line\"></span>\n<span class=\"line\" data-line=\"78\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">double</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> factor</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#D73A49;--shiki-dark:#F97583\">int</span><span style=\"color:#E36209;--shiki-dark:#FFAB70\"> deep</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"79\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"factor\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, deep);</span></span>\n<span class=\"line\" data-line=\"80\" class=\"line\"></span>\n<span class=\"line\" data-line=\"81\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"82\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    double</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> base </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1.0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"83\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    char</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">                    //get</span></span>\n<span class=\"line\" data-line=\"84\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '('</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"85\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">                          //skip</span></span>\n<span class=\"line\" data-line=\"86\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\"> expression</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(deep </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"87\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">                          //skip</span></span>\n<span class=\"line\" data-line=\"88\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"89\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    else</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> {</span></span>\n<span class=\"line\" data-line=\"90\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">        while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">isdigit</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(c) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">||</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '.'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">     // == GET A NUMBER ==</span></span>\n<span class=\"line\" data-line=\"91\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">            if</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">==</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '.'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) {</span></span>\n<span class=\"line\" data-line=\"92\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">                  //skip the '.'</span></span>\n<span class=\"line\" data-line=\"93\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">             //get the next character</span></span>\n<span class=\"line\" data-line=\"94\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                while</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">isdigit</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(c)) {</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">         //collect digits for the decimal part</span></span>\n<span class=\"line\" data-line=\"95\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> (c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '0'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">) </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> (base </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">/=</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 10.0</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"96\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"97\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                    c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span></span>\n<span class=\"line\" data-line=\"98\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">                }</span></span>\n<span class=\"line\" data-line=\"99\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">                break</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span></span>\n<span class=\"line\" data-line=\"100\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            }</span></span>\n<span class=\"line\" data-line=\"101\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">*</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 10</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> +</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">-</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> '0'</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">;</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">       //get num</span></span>\n<span class=\"line\" data-line=\"102\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">                      //skip</span></span>\n<span class=\"line\" data-line=\"103\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">            c </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">=</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> cin.</span><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">peek</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">();</span><span style=\"color:#6A737D;--shiki-dark:#6A737D\">                 //get</span></span>\n<span class=\"line\" data-line=\"104\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">        }</span></span>\n<span class=\"line\" data-line=\"105\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    }</span></span>\n<span class=\"line\" data-line=\"106\" class=\"line\"></span>\n<span class=\"line\" data-line=\"107\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    print_tab</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(deep </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">+</span><span style=\"color:#005CC5;--shiki-dark:#79B8FF\"> 1</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">);</span></span>\n<span class=\"line\" data-line=\"108\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">    cout </span><span style=\"color:#D73A49;--shiki-dark:#F97583\">&#x3C;&#x3C;</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\"> \"get_num();\"</span><span style=\"color:#D73A49;--shiki-dark:#F97583\"> &#x3C;&#x3C;</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> endl;</span></span>\n<span class=\"line\" data-line=\"109\" class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#B392F0\">    print_log</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"color:#032F62;--shiki-dark:#9ECBFF\">\"factor\"</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">, deep, res);</span></span>\n<span class=\"line\" data-line=\"110\" class=\"line\"></span>\n<span class=\"line\" data-line=\"111\" class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F97583\">    return</span><span style=\"color:#24292E;--shiki-dark:#E1E4E8\"> res;</span></span>\n<span class=\"line\" data-line=\"112\" class=\"line\"><span style=\"color:#24292E;--shiki-dark:#E1E4E8\">}</span></span>\n<span class=\"line\" data-line=\"113\" class=\"line\"></span></code></pre>\n        </div>\n<p>神</p>\n",
  "date": "2023-04-02 10:09:31",
  "excerpt": "记录一下最近的练习程序与做法，加深记忆，也当个教程吧，毕竟赠人玫瑰手留余香(bushi",
  "readTime": "19",
  "summary": "这篇博文记录了博主实现后缀表达式求值的编程练习过程，详细介绍了通过栈结构解析并计算后缀表达式的算法步骤，并提供了完整的C++代码示例。",
  "tags": [
    "计算机",
    "编程",
    "算法",
    "cpp"
  ],
  "title": "前、后与中——表达式求值",
  "toc": [
    {
      "id": "de849fde",
      "level": 2,
      "text": "后缀表达式"
    },
    {
      "id": "4358a3d6",
      "level": 2,
      "text": "前缀表达式"
    },
    {
      "id": "6767a090",
      "level": 2,
      "text": "中缀表达式"
    },
    {
      "id": "eea64ce6",
      "level": 3,
      "text": "递归"
    },
    {
      "id": "750d22c9",
      "level": 3,
      "text": "栈"
    },
    {
      "id": "6ff71db2",
      "level": 4,
      "text": "转为后/前缀表达式再计算"
    },
    {
      "id": "0737e265",
      "level": 4,
      "text": "直接计算"
    },
    {
      "id": "f23d890d",
      "level": 2,
      "text": "题外话"
    },
    {
      "id": "558cebce",
      "level": 3,
      "text": "2023.04.03更新"
    }
  ],
  "updated": "2023-04-03 09:32:31"
}